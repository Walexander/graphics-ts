import{F as T,G as V,O as b,D as c,H as M,I as S,J as k,K as j,l as C,L as z,M as q,N as F,P as H,Q as l,q as J,n as K,R as E,S as O,m as I,T as W,o as G,j as L,i as Q,U,V as X,y as v,v as Y,x as Z,W as D,X as aa,Y as sa,Z as A,_ as ta,$ as na,a0 as N,a1 as oa,a2 as ea,a3 as ra,a4 as ca,a5 as la,a as ia,a6 as ua,g as da,h as ma,a7 as fa,a8 as P}from"./Shape-4cee9570.js";import{m as _,g as xa,t as ya,c as pa,s as ga,r as ha,a as Ma,b as $a}from"./Stream-be148cc6.js";const wa=a=>T(V(a.compare),a.minBound),Ba={compare:b,maxBound:1/0,minBound:-1/0},Ia=wa(Ba);function _a(a){const s=Ca(a);return t=>o=>H(t,s(o))}c(k,M(({width:a,height:s})=>S(a/2,s/2)));function Ca(a){const s=a*a;return t=>o=>{const n=t.x-o.x,i=t.y-o.y;return n*n+i*i<s}}const va=c(z,C(a=>a.nextIntBetween(0,360)),M(j)),Aa=(a,s)=>c(z,C(t=>t.nextIntBetween(a,s)));function Na(a,s,t){const o=q(s),n=a.x+t*Math.cos(o),i=a.y+t*Math.sin(o);return{point:l(n,i),color:F(s.degrees,.5,.5)}}function Sa(){return void c(W("starting"),I(k),E(a=>O([B(.5,60,40,l(-200,-200)),B(.5,30,20,l(200,-200)),B(.5,20,20,l(-200,200)),B(.5,10,30,l(200,200))],s=>s(a),{discard:!0,concurrency:"unbounded"})),K("canvas4"),J)}function B(a,s,t=10,o=l(0,0)){return t=Ia.combine(t,5),n=>{const i=Math.floor(n.width/2),u=Math.floor(n.height/2),d=l(i*-a,u*-a),f=l(i*a,u*a),p=S(i+o.x,u+o.y),g=l(f.x+d.x,f.y+d.y),x=fa(1,1),y=p(x(G(Q(d.x,d.y,f.x-d.x,f.y-d.y),L(P))));return c(v(y),I(c(ka(d,f,g,t,s+2,s/2),_(r=>p(x(r))),xa(16),_(O(v,{discard:!0})),_(Y(Z(100))),ya(r=>r),pa(r=>ga(r)),ha,D)),E(([r,h])=>W(`-- time taken: ${U(r,{onMillis:e=>e+"ms",onNanos:e=>e/BigInt(1e6)+"ms"})} -- total points: ${X(()=>0)(h)} --`)))}}function ka(a,s,t,o,n,i=10){const u=n/2,d=aa(l(a.x+u,a.y+u),l(s.x-u,s.y-u)),f=[0,sa(t)];return c($a(null),Ma(f,([g,x],y)=>c(A,I(p([g,x])),M(([r,{point:h,drawing:e}])=>[[r,ta(x,h)],e]))));function p(g){const[x,y]=g;return r(x);function r(e){const $=na(y);return e>=$?N($):c(h(ra(e)(y),y),ea(o),M(w=>[e,w]),oa(w=>c(A,I(p([e+1,y])))))}function h(e,$){const w=_a(n)($);return c(ia([va,Aa(n,n+n*.5)]),M(m=>Na(e,...m)),C(({point:m,color:R})=>!d(m)||w(m)?N({candidate:m}):ca({point:m,drawing:za(la(m.x,m.y,i),R)})))}}}function za(a,s){return ua(G(a,L(P)),da(a,ma(s)))}Sa();
