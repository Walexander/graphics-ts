import{F as R,G as T,O as V,D as r,H as $,I as k,J as z,K as j,l as I,L as E,M as q,N as H,P as J,Q as c,q as K,n as Q,R as N,S as O,m as _,T as U,o as W,h as X,j as F,U as Y,V as Z,y as S,v as b,x as D,W as aa,X as ta,Y as sa,Z as v,_ as na,$ as oa,a0 as A,a1 as ea,a2 as ra,a3 as ca,a4 as la,a5 as ia,a as ua,a6 as da,g as fa,i as ma,a7 as G}from"./Shape-9d40d40f.js";import{l as L,m as C,g as xa,t as ya,c as pa,s as ga,r as ha,a as $a,b as Ma}from"./Stream-334c6260.js";const wa=a=>R(T(a.compare),a.minBound),Ba={compare:V,maxBound:1/0,minBound:-1/0},_a=wa(Ba);function Ca(a){const t=Ia(a);return s=>o=>J(s,t(o))}r(z,$(({width:a,height:t})=>k(a/2,t/2)));function Ia(a){const t=a*a;return s=>o=>{const n=s.x-o.x,l=s.y-o.y;return n*n+l*l<t}}const Sa=r(E,I(a=>a.nextIntBetween(0,360)),$(j)),va=(a,t)=>r(E,I(s=>s.nextIntBetween(a,t)));function Aa(a,t,s){const o=q(t),n=a.x+s*Math.cos(o),l=a.y+s*Math.sin(o);return{point:c(n,l),color:H(t.degrees,.5,.5)}}function ka(){return void r(L("starting"),_(z),N(a=>O([B(.5,60,40,c(-200,-200)),B(.5,30,20,c(200,-200)),B(.5,20,20,c(-200,200)),B(.5,10,30,c(200,200))],t=>t(a),{discard:!0,concurrency:"unbounded"})),Q("canvas4"),K)}function B(a,t,s=10,o=c(0,0)){return s=_a.combine(s,5),n=>{const l=Math.floor(n.width/2),i=Math.floor(n.height/2),u=c(l*-a,i*-a),m=c(l*a,i*a),p=k(l+o.x,i+o.y),g=c(m.x+u.x,m.y+u.y),x=U(1,1),y=p(x(W(X(u.x,u.y,m.x-u.x,m.y-u.y),F(G))));return r(S(y),_(r(za(u,m,g,s,t+2,t/2),C(e=>p(x(e))),xa(16),C(O(S,{discard:!0})),C(b(D(100))),ya(e=>e),pa(e=>ga(e)),ha,aa)),N(([e,h])=>L(`
-- Bounds: ${a}, MinDist = ${t}, retries = ${s}
-- time taken: ${Y(e).toFixed(3)}s
-- total points: ${Z(()=>0)(h)}`)))}}function za(a,t,s,o,n,l=10){const i=n/2,u=ta(c(a.x+i,a.y+i),c(t.x-i,t.y-i)),m=[0,sa(s)];return r(Ma(null),$a(m,([g,x],y)=>r(v,_(p([g,x])),$(([e,{point:h,drawing:d}])=>[[e,na(x,h)],d]))));function p(g){const[x,y]=g;return e(x);function e(d){const M=oa(y);return d>=M?A(M):r(h(ca(d)(y),y),ra(o),$(w=>[d,w]),ea(w=>r(v,_(p([d+1,y])))))}function h(d,M){const w=Ca(n)(M);return r(ua([Sa,va(n,n+n*.5)]),$(f=>Aa(d,...f)),I(({point:f,color:P})=>!u(f)||w(f)?A({candidate:f}):la({point:f,drawing:Ea(ia(f.x,f.y,l),P)})))}}}function Ea(a,t){return da(W(a,F(G)),fa(a,ma(t)))}ka();
